= Object Storage Client

image:https://github.com/EmadAlblueshi/object-storage-client/actions/workflows/ci.yml/badge.svg?branch=master["Build Status", link="https://github.com/EmadAlblueshi/object-storage-client/actions?query=workflow%3ACI"]

A convenient S3 client based on Vert.x that is compatible with
https://docs.aws.amazon.com/AmazonS3/latest/API/Welcome.html[Amazon S3 REST API protocol]

WARNING: The client in active development!

== Example
[source,java]
----
// Create S3 options
var s3Options = new S3Options()
    .setSignatureVersion(S3SignatureVersion.V4)
    .setAccessKey("access-key")
    .setSecretKey("secret-key")
    .setRegion("region");

// Create S3 client options
var clientOptions = new ObjectStorageClientOptions()
    .setS3Options(s3Options)
    .setDefaultHost("localhost");

// Create S3 client
var client = ObjectStorageClient.s3Create(vertx, clientOptions);

// Create new bucket
client.put(new BucketOptions(), "/my-bucket").onComplete(r -> {
    if (r.succeeded()) {
      System.out.println("Bucket created");
    } else {
      System.out.println("Bucket failed");
    }
});

// Create object request options
var objectOptions = new ObjectOptions()
    .contentType("text/plain")
    .storageClass(StorageClass.STANDARD)
    .acl(Acl.PUBLIC_READ);

// Read text file example
var fileBuffer = vertx.fileSystem().readFileBlocking("readme.txt");

// Create new object    
client.put(objectOptions, "/my-bucket/my-file.txt", fileBuffer).onComplete(r -> {
    if (r.succeeded()) {
      System.out.println("Object created");
    } else {
      System.out.println("Object failed");
    }
});    
----

== Building

To launch the tests:
----
mvn clean test
----

To package:
----
mvn clean package -DskipTests
----

To package with site
----
mvn clean package -DskipTests site
----


